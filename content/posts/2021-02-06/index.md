---
path: "/post-seven"
cover: "../2018-10-16/speed.jpg"
date: "2021-02-02"
title: "AWS 3"
tags: ['aws']
published: true
---

## 認証上のセキュリティを高める

MFAを有効化する
パスワードポリシーを変更する
パスワードポリシー

管理者用のIAMユーザーを作る

AWS CloudTrailを有効化する

AWSの請求アラートを有効化する


## 1 
顧客関係管理 (CRM) アプリケーションが、Application Load Balancer の背後にある複数のアベイラビリ
ティーゾーン内の Amazon EC2 インスタンスで実行されています。
これらのインスタンスのいずれかに障害が発生した場合、どうなりますか。
A. ロードバランサーが、障害が発生したインスタンスへのリクエスト送信を停止する。
B. ロードバランサーが、障害が発生したインスタンスを終了する。
C. ロードバランサーが、障害が発生したインスタンスを自動的に置換する。
D. ロードバランサーが、インスタンスが置換されるまで 504 ゲートウェイタイムアウトエラーを返す。

答え A

A – Application Load Balancer (ALB) は、正常なインスタンスにのみリクエストを送信します。ALB
は、定期的にターゲットグループ内のターゲットに対してヘルスチェックを実行します。ヘルスチェック
で連続して所定の回数（構成可能）合格しなかったインスタンスは、異常と見なされます。ロードバラン
サーは、もう一度ヘルスチェックに合格するまで、インスタンスにリクエストを送信しなくなります。


## 2
ある企業は非同期処理を実行する必要があり、ディカップルドアーキテクチャの一部として
Amazon Simple Queue Service (Amazon SQS) を実装しています。同社は、ポーリングリクエストからの
空の応答数を最小限に抑えたいと考えています。
空の応答を減らすために、ソリューションアーキテクトはどのような措置を取るべきでしょうか。
A. キューの最大メッセージ保持期間を増やす。
B. キューのリドライブポリシーの最大受信数を増やす。
C. キューの既定の表示タイムアウトを増やす。
D. キューの受信メッセージ待ち時間を増やす。

答え : D

 D – キューの ReceiveMessageWaitTimeSeconds プロパティが 0 より大きい値に設定されている場
合、ロングポーリングが有効となります。ロングポーリングでは、ReceiveMessage 要求に応答を送信
する前に、メッセージが利用可能になるまで Amazon SQS の待機を許可することにより空の応答数を
減少させることができます。


## 3

ある企業は現在、オンプレミスアプリケーションのデータをローカルドライブに保管しています。最高技術
責任者は、Amazon S3 にデータを保管することでハードウェアコストを削減したいと考えていますが、ア
プリケーションに変更を加えることは希望していません。待ち時間を最小限に抑えるには、頻繁にアクセス
するデータがローカルで利用可能である必要があります。
ローカルストレージのコストを削減するために、ソリューションアーキテクトが実装できる信頼性と耐久性
の高いソリューションはどのようなものですか?
A. ローカルサーバーに SFTP クライアントをデプロイし、AWS Transfer for SFTP を使って Amazon S3
にデータを転送する。
B. キャッシュ型モードに設定された AWS Storage Gateway のボリュームゲートウェイをデプロイする。
C. ローカルサーバーに AWS DataSync エージェントをデプロイし、S3 バケットを送信先として設定する。
D. 保管型モードで設定された AWS Storage Gateway のボリュームゲートウェイをデプロイする。

A – Application Load Balancer (ALB) は、正常なインスタンスにのみリクエストを送信します。ALB
は、定期的にターゲットグループ内のターゲットに対してヘルスチェックを実行します。ヘルスチェック
で連続して所定の回数（構成可能）合格しなかったインスタンスは、異常と見なされます。ロードバラン
サーは、もう一度ヘルスチェックに合格するまで、インスタンスにリクエストを送信しなくなります。

答え : B
B – AWS Storage Gateway ボリュームゲートウェイは、オンプレミスアプリケーションサーバからイ
ンターネットスモールコンピュータシステムインタフェース (iSCSI) デバイスとしてマウントできるク
ラウドストレージボリュームをオンプレミスソフトウェアアプリケーションに接続します。キャッシュ
型モードでは、すべてのデータが Amazon S3 に保存され、頻繁にアクセスされるデータのコピーが
ローカルに保存されます。


## 4 
ある企業は、複数のアベイラビリティーゾーンにまたがる VPC でパブリックな 3 層構造の Web アプリ
ケーションを実行しています。プライベートサブネットで実行するアプリケーション層の Amazon EC2 イ
ンスタンスの場合、インターネットからソフトウェアパッチをダウンロードする必要があります。ただし、
インターネットから直接インスタンスにアクセスすることはできません。
必要なパッチをインスタンスがダウンロードできるようにするには、どのアクションを実行する必要があり
ますか。(2 つ選択してください)
A. パブリックサブネットで NAT ゲートウェイを構成する。
B. インターネットトラフィックの NAT ゲートウェイへのルートを持つカスタムルートテーブルを定義
し、アプリケーション層のプライベートサブネットに関連付ける。
C. アプリケーションインスタンスに Elastic IP アドレスを割り当てる。
D. インターネットトラフィック用のインターネットゲートウェイへのルートを持つカスタムルートテーブ
ルを定義し、アプリケーション層のプライベートサブネットに関連付ける。
E. プライベートサブネットで NAT インスタンスを構成する。

答え : A , B

A、B – NAT ゲートウェイは、プライベートサブネット内のインスタンスからインターネットまたはそ
の他の AWS サービスにトラフィックを転送し、その応答をインスタンスに送り返します。NAT ゲート
ウェイが作成されると、プライベートサブネットのルートテーブルを更新して、NAT ゲートウェイにイ
ンターネットトラフィックをポイントする必要があります。

## 5 
あるソリューションアーキテクトは、会社が 2 週間休業している間に実行する必要のない EC2 インスタン
スのコストを節約するソリューションを設計したいと考えています。インスタンスで実行されているアプリ
ケーションは、インスタンスが稼働を再開する時点で不可欠なデータをインスタンスメモリ (RAM) にして
います。
インスタンスをシャットダウンして再開するためにソリューションアーキテクトが推奨すべきアプローチは
どれですか。

A. アプリケーションを変更して、インスタンスストアボリュームにデータを保管する。ボリュームの再起
動中にボリュームをアタッチしなおす。
B. インスタンスを停止する前に、インスタンスのスナップショットを作成する。インスタンスを再起動し
た後、スナップショットを復元する。
C. 休止状態が有効になっているインスタンスでアプリケーションを実行する。シャットダウン前にインス
タンスを休止状態にする。
D. 各インスタンスを停止する前に、それらのアベイラビリティーゾーンを記録する。シャットダウン後、
同じアベイラビリティーゾーン内でインスタンスを再起動する。

答え : C

C – インスタンスを休止状態にすると、RAM の内容が Amazon EBS ルートボリュームに保存されま
す。インスタンスが再起動すると、RAM の内容が再読み込みされます。


## 6
ある企業は、VPC 内の Amazon EC2 インスタンスで監視アプリケーションを実行する予定です。インスタ
ンスへの接続は、プライベート IPv4 アドレスを使用して行われます。ソリューションアーキテクトは、ア
プリケーションに障害が発生してアクセス不能になった時点で、トラフィックをスタンバイインスタンスに
短時間で送信できるようにするソリューションを設計する必要があります。
これらの要件を満たすアプローチはどれですか。
A. プライベート IP アドレスのリスナーが構成された Application Load Balancer をデプロイし、プライマ
リインスタンスをロードバランサーに登録する。障害が発生した時点で、インスタンスの登録を解除
し、セカンダリインスタンスを登録する。
B. カスタム DHCP オプションセットを構成する。プライマリインスタンスに障害が発生した時点で、同
じプライベート IP アドレスをセカンダリインスタンスに割り当てるように DHCP を構成する。
C. プライベート IP アドレスが構成されたインスタンスにセカンダリ Elastic Network Interface (ENI) をア
タッチする。プライマリ インスタンスにアクセスできない場合、ENI をスタンバイインスタンスに移動
する。
D. Elastic IP アドレスをプライマリインスタンスのネットワークインターフェイスに関連付ける。障害発生時
に Elastic IP をプライマリインスタンスの関連付けから解除し、セカンダリインスタンスに関連付ける。

答え : D

D – セカンダリ ENI をインスタンスに追加できます。プライマリ ENI をインスタンスからデタッチす
ることはできませんが、セカンダリ ENI をデタッチして別のインスタンスにアタッチすることはできま
す。

## 7 
ある分析会社は、ユーザーにサイト分析サービスを提供する予定です。このサービスでは、ユーザーの
Web ページに、同社の Amazon S3 バケットでホストされている JavaScript ファイルを埋め込む必要が
あります。
スクリプトが正常に実行されるようにするために、ソリューションアーキテクトが行うべきことは何ですか。
A. S3 バケットで Cross-Origin Resource Sharing (CORS) を有効にする。
B. S3 バケットで S3 バージョン管理を有効にする。
C. スクリプトの署名付き URL をユーザーに提供する。
D. パブリック実行特権を許可するバケットポリシーを構成する。

答え : A

A – Web ブラウザは、Web ページとは異なるドメイン名を持つサーバーで作成されたスクリプトの実
行をブロックします。Amazon S3 を CORS で設定して、スクリプトの実行を許可する HTTP ヘッ
ダーを送信することができます。


## 8 
ある企業のセキュリティチームでは、オンプレミスに保管されている暗号化キーを使用して、クラウドに保
管されたすべてのデータを保存状態では常時暗号化しておく必要があります。
これらの要件を満たす暗号化オプションはどれですか。(2 つ選択してください。)
A. Amazon S3 で管理された暗号化キー (SSE-S3) にサーバー側の暗号化を使用する。
B. AWS KMS で管理されたキー (SSE-KMS) にサーバー側の暗号化を使用する。
C. 顧客提供の暗号化キー (SSE-C) を使用して、サーバー側の暗号化を使用する。
D. クライアント側の暗号化を使用して、保存時の暗号化を行う。
E. Amazon S3 イベントによってトリガーされる AWS Lambda 関数を使用し、顧客のキーを使ってデー
タを暗号化する。

答え : C、D

C、D – 顧客提供キー (SSE-C) を使用してサーバー側の暗号化を行うことにより、Amazon S3 が
PUT リクエストで提供される暗号化キーを使ってオブジェクトサーバー側を暗号化できます。オブジェ
クトを復号化するには、Amazon S3 の GET リクエストで同じキーを提供する必要があります。顧客に
は、データクライアントを Amazon S3 にアップロードしてダウンロード後に復号化する前に、データ
クライアント側を暗号化するオプションもあります。AWS SDK は、プロセスを合理化する S3 暗号化
クライアントを提供します。


## 9 
ある企業は、規制要件により、アクセスログを最低 5 年間保持する必要があります。データは一度保存され
るとめったにアクセスされませんが、1 日前の事前通知があった場合、アクセスできるようにしておく必要
があります。
これらの要件を満たす最もコスト効率の高いデータストレージソリューションはどのようなものですか。
A. Amazon S3 Glacier Deep Archive ストレージにデータを保管し、ライフサイクルルールを使用して 5 年
後にオブジェクトを削除する。
B. データを Amazon S3 標準ストレージに保管し、ライフサイクルルールを使用して 30 日後に Amazon
S3 Glacier に移行する。
C. Amazon CloudWatch ログを使用してデータをログに保存し、保持期間を 5 年に設定する。
D. Amazon S3 標準 - 低頻度アクセス (S3 標準 - IA) ストレージにデータを保存し、ライフサイクルルー
ルを使用して 5 年後にオブジェクトを削除する。

答え : A

A – データは、Amazon S3 Glacier Deep Archive に直接保存することができます。これは最も低価格の
S3 ストレージクラスです。

## 10 
ある会社は、リザーブドインスタンスを使用してデータ処理ワークロードを実行します。通常夜間ジョブの
実行には 7 時間かかりますが、10 時間以内に終了する必要があります。同社は毎月末に需要が一時的に増
加するため、現在のリソースの容量ではジョブの実行にそれ以上の時間がかかると予測しています。いった
ん開始されると、処理ジョブは完了するまで中断できません。同社は、容量を提供できる可能な限りコスト
効率の高いソリューションを実装したいと考えています。
このためにソリューション アーキテクトはどのような措置を取るべきでしょうか。
A. 需要が高い期間にオンデマンドインスタンスをデプロイする。
B. 追加のインスタンスに対して 2 つ目の Amazon EC2 予約を作成する。
C. 需要の高い期間中にスポットインスタンスをデプロイする。
D. 予約された Amazon EC2 のインスタンスサイズを増やして、ワークロードの増加に対応する。

答え :  A

A – スポットインスタンスは最もコストが低くて済むオプションですが、中断できないジョブや一定期
間内に完了しなければならないジョブには適していません。オンデマンド インスタンスは、実行する秒
数に応じて課金されます。


